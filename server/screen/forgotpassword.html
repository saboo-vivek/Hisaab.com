<!DOCTYPE html>
<html>
   <head>
      <title>Password Reset Form</title>
      <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
   </head>
   <body>
      <div>
         <h2>Password Reset Form</h2>
         <form id="resetForm">
            <div>
               <label for="email">Email:</label>
               <input type="email" id="email" name="email" required />
            </div>
            <button type="submit">Submit</button>
         </form>

         <p>
            Please enter your email address. You will receive a link to create a
            new password via email.
         </p>

         <script>
            document
               .getElementById("resetForm")
               .addEventListener("submit", function (e) {
                  e.preventDefault();
                  console.log("forgot pass clicked");
                  var email = document.getElementById("email").value;

                  axios
                     .post(`http://localhost:3000/password/forgotpassword`, {
                        email,
                     })
                     .then((response) => {
                        console.log("response:", response.data);
                        document.getElementById("email").value = "";
                        alert("A reset link is sent to your gmail");
                     })
                     .catch((error) => {
                        console.log({
                           errorMessage: error.response.data.message
                              ? error.response.data.message
                              : error.message,
                        });

                       
                     });
               });
         </script>
      </div>
   </body>
</html>
